import streamlit as st
import pandas as pd

st.markdown(
    """
    <h1 style='text-align: center; color: #1E88E5;'>ê°€ìŠ¤ì•ˆì „ê³µì‚¬ ë¯¼ì› ìë™ì‘ë‹µ ì‹œìŠ¤í…œ</h1>
    <h3 style='text-align: center; color: #424242;'>LLM ê¸°ë°˜ ë¯¼ì›ì²˜ë¦¬ íš¨ìœ¨í™” ì†”ë£¨ì…˜</h3>
    """,
    unsafe_allow_html=True,
)

# êµ¬ë¶„ì„ 
st.divider()

# í”„ë¡œì íŠ¸ ì†Œê°œ
st.subheader("ğŸ¯ ì‹œìŠ¤í…œ ëª©ì ")
st.markdown("""
    í•œêµ­ê°€ìŠ¤ì•ˆì „ê³µì‚¬ì˜ ë¯¼ì›(VOC) ì²˜ë¦¬ íš¨ìœ¨í™”ë¥¼ ìœ„í•´ ê°œë°œëœ AI ê¸°ë°˜ ì†”ë£¨ì…˜ìœ¼ë¡œ, ìì—°ì–´ ì²˜ë¦¬ ê¸°ìˆ ì„ í™œìš©í•˜ì—¬:
    
    - ğŸ“ **ë¯¼ì› ë‹µë³€ ì´ˆì•ˆ ìë™ ìƒì„±**: ë‹´ë‹¹ìì˜ ì—…ë¬´ íš¨ìœ¨ì„± í–¥ìƒ
    - ğŸ” **ìœ ì‚¬ ê³¼ê±° ë¯¼ì› ê²€ìƒ‰**: ì¼ê´€ì„± ìˆëŠ” ì‘ëŒ€ ì§€ì›
    - â±ï¸ **ì²˜ë¦¬ ì‹œê°„ ë‹¨ì¶•**: ë¯¼ì›ì¸ ë§Œì¡±ë„ ì¦ê°€
    - ğŸ§  **ê¸°ê´€ ì§€ì‹ í™œìš© ê·¹ëŒ€í™”**: ì¶•ì ëœ ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •
    """)

# 2ë‹¨ ë ˆì´ì•„ì›ƒ (ë°ì´í„°ì™€ ê¸°ìˆ )
col1, col2 = st.columns(2)

with col1:
    st.subheader("ğŸ’» í•µì‹¬ ê¸°ìˆ ")
    st.markdown("""
        - **LLM(ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸)**: ìì—°ì–´ ì´í•´ ë° ìƒì„± GPT-4o-mini
        - **ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤**: Chroma DB, embedding: text-embedding-3-small
        - **RAG(ê²€ìƒ‰ ì¦ê°• ìƒì„±)**: ê´€ë ¨ ë¬¸ì„œ ê²€ìƒ‰ ê¸°ë°˜ ì‘ë‹µ ìƒì„±, retriever: EnsembleRetriever(BM25 + vector) 
        - **ìœ ì‚¬ ë¯¼ì› ê²€ìƒ‰**: ìœ ì‚¬ ë¯¼ì› ê²€ìƒ‰ ê²°ê³¼ ì œê³µ(similarity_search)
        - **í‰ê°€ ì‹œìŠ¤í…œ**: LLM Judge ë°©ì‹ì˜ ì„±ëŠ¥ í‰ê°€
        - **í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§**: ë¯¼ì›ë‹µë³€ íŠ¹ì„±ì— ë§ëŠ” í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§, í‰ê°€ìš© í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§
        """)

with col2:
    st.subheader("ğŸ“Š í™œìš© ë°ì´í„°")
    st.markdown("""
        - **ê³¼ê±° ë¯¼ì› ë°ì´í„°**: ìˆ˜ì²œ ê±´ì˜ ì²˜ë¦¬ ì™„ë£Œëœ VOC ë°ì´í„°
        - **ë²•ë¥  ë° ê·œì •**: ê°€ìŠ¤ ê´€ë ¨ ë²•ë¥ , ì‹œí–‰ë ¹, ì‹œí–‰ê·œì¹™
        - **ë‚´ë¶€ ì§€ì¹¨**: í•œêµ­ê°€ìŠ¤ì•ˆì „ê³µì‚¬ ì—…ë¬´ ì§€ì¹¨ ë° ë§¤ë‰´ì–¼
        """)


# ì‹œìŠ¤í…œ êµ¬ì„±ë„
st.subheader("ğŸ”„ ì‹œìŠ¤í…œ êµ¬ì„±ë„")

# ê°„ë‹¨í•œ ì‹œìŠ¤í…œ íë¦„ë„
st.graphviz_chart("""
digraph {
    node [shape=box, style=filled, color=lightblue, fontname="ë‚˜ëˆ”ê³ ë”•"];
    ë¯¼ì›ì ‘ìˆ˜ [label="ë¯¼ì› ì ‘ìˆ˜"];
    RAG [label="RAG ë²•ë¥ /ê·œì • ê²€ìƒ‰"];
    SEARCH [label="ìœ ì‚¬ë¯¼ì› ê²€ìƒ‰"];
    LLM [label="LLM ë‹µë³€ ìƒì„±"];
    ìœ ì‚¬ë¯¼ì› [label="ìœ ì‚¬ ë¯¼ì› ê²€ìƒ‰ ê²°ê³¼ ì œê³µ"];
    ì‘ë‹µ [label="ë¯¼ì› ì‘ë‹µ ì´ˆì•ˆ ìƒì„±"];
    

    ë¯¼ì›ì ‘ìˆ˜ -> RAG;
    ë¯¼ì›ì ‘ìˆ˜ -> SEARCH;
    SEARCH -> ìœ ì‚¬ë¯¼ì›;
    RAG -> LLM;
    LLM -> ì‘ë‹µ;

    {rank=same; RAG SEARCH}
    
}
""")


# í‘¸í„°
st.divider()
st.markdown(
    """
    <p style='text-align: center; color: gray; font-size: small;'>
    Â© 2025 í•œêµ­ê°€ìŠ¤ì•ˆì „ê³µì‚¬ ë¯¼ì› ìë™ì‘ë‹µ ì‹œìŠ¤í…œ  PoC | ì—…ë¬´ í”„ë¡œì íŠ¸ë¥¼ í¬íŠ¸í´ë¦¬ì˜¤ í”„ë¡œì íŠ¸ë¡œ ì¬êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.<br>
    </p>
    <p style='text-align: center; color: gray; font-size: small;'>
    <b>âœ‰ï¸ e-mail:</b> mia.choi.dev@gmail.com | <b>âœ¨ í¬íŠ¸í´ë¦¬ì˜¤ Notion:</b>  https://mia-choi.github.io/
    </p>
    """,
    unsafe_allow_html=True,
)
